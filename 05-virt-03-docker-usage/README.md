Домашнее задание к занятию "5.3. Контейнеризация на примере Docker"

---

Задача 1

Посмотрите на сценарий ниже и ответьте на вопрос: "Подходит ли в этом сценарии использование докера? Или лучше подойдет виртуальная машина, физическая машина? Или возможны разные варианты?"

Детально опишите и обоснуйте свой выбор.

---

Сценарий:

    Высоконагруженное монолитное java веб-приложение;
        Тут больше подходит физический сервер(т.к. нагрузка высока, приложение монолитное, докер контейнер  
        будет слишком тяжел, как мне кажется).  

    Go-микросервис для генерации отчетов;  
        Докер тут идеально вписывается. Физ. сервер - жирновато для микросервиса, да и виртуалка тоже.

    Nodejs веб-приложение;  
        Докер подходит. Запустить приложение в контейнере и прокинуть порт наружу. наверное так.  
        Виртуалка и физ сервер тут лишние.  

    Мобильное приложение c версиями для Android и iOS;  
        Никогда такое не делал, быстро вникнуть не получится. В принципе если приложение IOS  
        нативное(не веб), то нужен mac, т. е. физ. сервер.  

    База данных postgresql используемая, как кэш;  
        Докер подходит, только настройки по памяти нужно крутить. Физ. сервер может быть избыточным,  
        чтение кэша только.  

    Шина данных на базе Apache Kafka;  
        Много незнакомых слов(на данный момент :-). Почитав несколько статей по  этому продукту, думаю,  
        что тут лучше всего подходит докер.  

    Очередь для Logstash на базе Redis;  
        Тут все можно запустить в контейнерах.  

    Elastic stack для реализации логирования продуктивного веб-приложения - три ноды elasticsearch,  
    два logstash и две ноды kibana;  
        Докер. Не могу веско аргументировать, мне кажется, в проде будет важна  
        идемпотентность - это про докер.  

    Мониторинг-стек на базе prometheus и grafana;  
        Тут также все можно запустить в докере, физ. сервере и виртуалка избыточны.  

    Mongodb, как основное хранилище данных для java-приложения;  
        Docker. Раз это можно запустить в докере и нагрузка не велика, то docker подходит  
        лучше всего.  

    Jenkins-сервер.  
        Docker. для большей изоляции и переносимости.  

---

Задача 2  

Сценарий выполения задачи:  

    создайте свой репозиторий на докерхаб;   
    выберете любой образ, который содержит апачи веб-сервер;  
    создайте свой форк образа;  
    реализуйте функциональность: запуск веб-сервера в фоне с индекс-страницей, содержащей HTML-код ниже:  

<html>  
<head>  
Hey, Netology  
</head>  
<body>  
<h1>I’m kinda DevOps now</h1>  
</body>  
</html>  

Опубликуйте созданный форк в своем репозитории и предоставьте ответ в виде ссылки на докерхаб-репо.  

---

Задача 3  

    Запустите первый контейнер из образа centos c любым тэгом в фоновом режиме, подключив папку info из текущей рабочей директории на  хостовой машине в /share/info контейнера;  
    Запустите второй контейнер из образа debian:latest в фоновом режиме, подключив папку info из текущей рабочей директории на  хостовой машине в /info контейнера;
    Подключитесь к первому контейнеру с помощью exec и создайте текстовый файл любого содержания в /share/info ;  
    Добавьте еще один файл в папку info на хостовой машине;  
    Подключитесь во второй контейнер и отобразите листинг и содержание файлов в /info контейнера.  
